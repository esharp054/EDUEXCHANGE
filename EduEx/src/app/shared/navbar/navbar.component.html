<nav class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid" id="navbarContainer">
      <div class="col-md-4">
        <form class="navbar" id="navLeft">

          <!--Logo-->
          <div class="navbar-header hidden-sm hidden-xs">
            <a href="javascript:void(0)" (click)="homePage()">
              <img id="logo-image" alt="Brand" src="/assets/long_logo.png">
            </a>
          </div>
        </form>
      </div>

      <!--Search Bar-->

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <div class="navbar-center col-md-4">
          <form class="navbar-form">
            <div class="input-group">
              <input id="searchBar" type="text" name="searchBar" #searchBar="ngModel" [(ngModel)]="_searchTerm" class="form-control input-lg"
                placeholder="Search Listings" />
              <!--<input id="searchBar" type="text" class="form-control input-lg" placeholder="Search Listings" />-->
              <span class="input-group-btn">
                <button class="btn btn-info btn-lg" type="button" (click)="search()">
                  <i class="glyphicon glyphicon-search"></i>
                </button>
              </span>
            </div>
          </form>
        </div>

        <!--User Icon-->
        <div class="col-md-4" *ngIf="user">
          <form class="navbar-right hidden-sm hidden-xs" id="navRight">
            <li id="userMenu" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <span>
                  <img id="user" src="{{ user.avatar || '/assets/default_user.png'}}" class="img-responsive">
                </span>
                <span>
                  {{user.username || 'username' }}
                </span>
                <span id="chevron" class="glyphicon glyphicon-chevron-down"></span>
              </a>
              <ul id="userDropDown" class="dropdown-menu">

                <li><a href="javascript:void(0)" (click)="newListing()"> Sell <span class="glyphicon glyphicon-usd pull-right"></span></a></li>
                <li class="divider"></li>
                <li><a href="javascript:void(0)" (click)="manageListing()"> Manage Listings <span class="glyphicon glyphicon-pencil pull-right"></span></a></li>
                <li class="divider"></li>
                <!--<li><a href="javascript:void(0)">Account Settings <span class="glyphicon glyphicon-cog pull-right"></span></a></li>
                <li class="divider"></li>-->
                <li><a href="javascript:void(0)" (click)="logout()">Sign Out <span class="glyphicon glyphicon-log-out pull-right"></span></a></li>
              </ul>
            </li>
          </form>
        </div>

        <!--Listings Modal-->
        <modal #navModal>
          <modal-header [show-close]="true">
            <h4 class="modal-title">New Listing</h4>
          </modal-header>
          <modal-body>
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active"><a href="#textbook" aria-controls="textbook" role="tab" data-toggle="tab">Textbook</a></li>
              <li role="presentation"><a href="#supplies" aria-controls="supplies" role="tab" data-toggle="tab">Supplies</a></li>
              <li role="presentation"><a href="#notes" aria-controls="notes" role="tab" data-toggle="tab">Notes</a></li>
            </ul>
            <!--<div id="textbook" class="tab-pane fade in active">-->


            <!--Add Textbook-->
            <form id="textbook" name="textbookForm" #textbookForm="ngForm" class="tab-content active" *ngIf="textbook" (ngSubmit)="submitNewTextbook()"
              novalidate>
              <div class="form-group">
                <label for="listingTitle">
                    Title:
                  </label>
                <input type="text" id="listingTitle" name="listingTitle" placeholder="Title" class="form-control" [(ngModel)]="textbook.title"
                  #listingTitle="ngModel" required/>
                <div *ngIf="listingTitle.errors && listingTitle.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingTitle.errors.required">
                      Title is required
                    </li>
                  </ul>
                </div>


                <label for="listingPrice">
                Price:
                </label>
                <div class="input-group">
                  <span class="input-group-addon" id="basic-addon1">$</span>
                  <input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                    placeholder="20" required pattern="\d+" />
                </div>
                <!--<input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                  placeholder="20" required pattern="\d+" />-->
                <div *ngIf="listingPrice.errors && listingPrice.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingPrice.errors.required">
                      Price is required
                    </li>
                    <li [hidden]="!listingPrice.errors.pattern">
                      Price is not valid
                    </li>
                  </ul>
                </div>



                <label for="listingClass">
                  Class:
                </label>
                <input id="listingClass" type="text" placeholder="CSE 3330" name="listingClass" class="form-control" [(ngModel)]="textbook.class"
                  #listingClass="ngModel" required />
                <div *ngIf="listingClass.errors && listingClass.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingClass.errors.required">
                      Class is required
                    </li>
                  </ul>
                </div>
                <label for="listingImagePath">
                Image URL:
                </label>
                <input id="listingImagePath" type="text" placeholder="http://placehold.it/125x150" name="listingImagePath" class="form-control"
                  [(ngModel)]="textbook.cover" #listingImagePath="ngModel" required />
                <div *ngIf="listingImagePath.errors && listingImagePath.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingImagePath.errors.required">
                      Image Path is required
                    </li>
                  </ul>
                </div>
                <label for="listingDescription">
                  Description:
                </label>
                <textarea id="listingDescription" name="listingDescription" #listingDescription="ngModel" type="text" class="form-control"
                  rows="5" placeholder="More Information Here..." [(ngModel)]="textbook.description"></textarea>
              </div>
              <hr>
              <div class="row">
                <button id="textSubmit" type="submit" class="btn btn-primary pull-right" [disabled]="textbookForm.invalid">Submit</button>
                <button id="textClose" type="button" class="btn btn-default pull-right" data-dismiss="modal" (click)="textbookForm.reset(); closeModal()">Cancel</button>
              </div>
            </form>

            <!--Add Supply-->
            <form id="supplies" name="supplyForm" #supplyForm="ngForm" class="tab-content" *ngIf="textbook" (ngSubmit)="submitNewSupply()"
              novalidate>
              <div class="form-group">
                <label for="listingTitle">
                    Title:
                  </label>
                <input type="text" id="listingTitle" name="listingTitle" placeholder="Title" class="form-control" [(ngModel)]="textbook.title"
                  #listingTitle="ngModel" required/>
                <div *ngIf="listingTitle.errors && listingTitle.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingTitle.errors.required">
                      Title is required
                    </li>
                  </ul>
                </div>


                <label for="listingPrice">
                Price:
                </label>
                <div class="input-group">
                  <span class="input-group-addon" id="basic-addon1">$</span>
                  <input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                    placeholder="20" required pattern="\d+" />
                </div>
                <!--<input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                  placeholder="20" required pattern="\d+" />-->
                <div *ngIf="listingPrice.errors && listingPrice.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingPrice.errors.required">
                      Price is required
                    </li>
                    <li [hidden]="!listingPrice.errors.pattern">
                      Price is not valid
                    </li>
                  </ul>
                </div>



                <label for="listingClass">
                  Class:
                </label>
                <input id="listingClass" type="text" placeholder="CSE 3330" name="listingClass" class="form-control" [(ngModel)]="textbook.class"
                  #listingClass="ngModel" required />
                <div *ngIf="listingClass.errors && listingClass.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingClass.errors.required">
                      Class is required
                    </li>
                  </ul>
                </div>
                <label for="listingImagePath">
                Image URL:
                </label>
                <input id="listingImagePath" type="text" placeholder="http://placehold.it/125x150" name="listingImagePath" class="form-control"
                  [(ngModel)]="textbook.cover" #listingImagePath="ngModel" required />
                <div *ngIf="listingImagePath.errors && listingImagePath.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingImagePath.errors.required">
                      Image Path is required
                    </li>
                  </ul>
                </div>
                <label for="listingDescription">
                  Description:
                </label>
                <textarea id="listingDescription" name="listingDescription" #listingDescription="ngModel" type="text" class="form-control"
                  rows="5" placeholder="More Information Here..." [(ngModel)]="textbook.description"></textarea>
              </div>
              <hr>
              <div class="row">
                <button id="textSubmit" type="submit" class="btn btn-primary pull-right" [disabled]="supplyForm.invalid">Submit</button>
                <button id="textClose" type="button" class="btn btn-default pull-right" data-dismiss="modal" (click)="supplyForm.reset(); closeModal()">Cancel</button>
              </div>
            </form>

            <!--Add Note-->
            <form id="notes" name="noteForm" #noteForm="ngForm" class="tab-content" *ngIf="textbook" (ngSubmit)="submitNewNote()" novalidate>
              <div class="form-group">
                <label for="listingTitle">
                    Title:
                  </label>
                <input type="text" id="listingTitle" name="listingTitle" placeholder="Title" class="form-control" [(ngModel)]="textbook.title"
                  #listingTitle="ngModel" required/>
                <div *ngIf="listingTitle.errors && listingTitle.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingTitle.errors.required">
                      Title is required
                    </li>
                  </ul>
                </div>


                <label for="listingPrice">
                Price:
                </label>
                <div class="input-group">
                  <span class="input-group-addon" id="basic-addon1">$</span>
                  <input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                    placeholder="20" required pattern="\d+" />
                </div>
                <!--<input type="text" id="listingPrice" name="listingPrice" class="form-control" [(ngModel)]="textbook.price" #listingPrice="ngModel"
                  placeholder="20" required pattern="\d+" />-->
                <div *ngIf="listingPrice.errors && listingPrice.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingPrice.errors.required">
                      Price is required
                    </li>
                    <li [hidden]="!listingPrice.errors.pattern">
                      Price is not valid
                    </li>
                  </ul>
                </div>



                <label for="listingClass">
                  Class:
                </label>
                <input id="listingClass" type="text" placeholder="CSE 3330" name="listingClass" class="form-control" [(ngModel)]="textbook.class"
                  #listingClass="ngModel" required />
                <div *ngIf="listingClass.errors && listingClass.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingClass.errors.required">
                      Class is required
                    </li>
                  </ul>
                </div>
                <label for="listingImagePath">
                Image URL:
                </label>
                <input id="listingImagePath" type="text" placeholder="http://placehold.it/125x150" name="listingImagePath" class="form-control"
                  [(ngModel)]="textbook.cover" #listingImagePath="ngModel" required />
                <div *ngIf="listingImagePath.errors && listingImagePath.touched" class="alert alert-danger" role="alert">
                  <ul>
                    <li [hidden]="!listingImagePath.errors.required">
                      Image Path is required
                    </li>
                  </ul>
                </div>
                <label for="listingDescription">
                  Description:
                </label>
                <textarea id="listingDescription" name="listingDescription" #listingDescription="ngModel" type="text" class="form-control"
                  rows="5" placeholder="More Information Here..." [(ngModel)]="textbook.description"></textarea>
              </div>
              <hr>
              <div class="row">
                <button id="textSubmit" type="submit" class="btn btn-primary pull-right" [disabled]="noteForm.invalid">Submit</button>
                <button id="textClose" type="button" class="btn btn-default pull-right" data-dismiss="modal" (click)="noteForm.reset(); closeModal()">Cancel</button>
              </div>
            </form>
          </modal-body>
        </modal>



      </div>
    </div>
  </div>
</nav>